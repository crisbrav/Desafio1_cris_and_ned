Intento 1:


int val = 0;
void setup()
{
  pinMode(0,INPUT);
  Serial.begin(9600);
}

void loop()
{
  val = analogRead(0);
  Serial.println(val);
}

int recoger_datos()
{
  int capacidad = 2;
  int cantelement = 0;
  
  int* arr_datos = new int[capacidad];
  
  arr_datos[cantelement] = val;
  cantelement++;
  if (cantelement == capacidad)
  {
    int nuevaCap = capacidad * 2;
    int* nuevoArr = new int[nuevaCap];
    copy(arr_datos, nuevoArr, capacidad);

    delete[] arr_datos;
    arr_datos = nuevoArr;

    capacidad = nuevaCap;
  }
}

void copy(int* origen, int* destino, int longitud)
{
  for (int i = 0; i < longitud; i++)
  {
    destino[i] = origen[i];
  }
}